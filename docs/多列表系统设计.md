# 多列表客户跟进系统设计

## 【四个列表划分标准】

### **列表1：超级VIP列表** ⭐⭐⭐
**目标**: 你的优质资产，超级无敌跟进

**入选条件**（满足以下任一条件）:
```python
# 条件1: 高频+高客单价
(复购周期 < 30天) AND (平均客单价 > 300元) AND (主要平台 != "代发")

# 条件2: 超多订单
(有效订单数 >= 10单) AND (退货率 < 0.3)

# 条件3: 明星/潜力客户
(潜力标签 == "明星客户" OR "潜力客户")
```

**预计人数**: 约60-80人  
**跟进策略**: 
- 最高优先级，专人负责
- 每周至少联系1次
- 新品优先推荐
- 提供专属福利

---

### **列表2：活跃培养列表** ⭐⭐
**目标**: 一鼓作气发展成高频用户

**入选条件**（同时满足）:
```python
(未复购天数 < 90天) AND           # 短期未购
(有效订单数 >= 2单) AND            # 至少2单
(退货率 < 0.3) AND                 # 退货率可接受
NOT IN 超级VIP列表                  # 不与列表1重复
```

**预计人数**: 约300-400人  
**跟进策略**:
- 高优先级
- 主动促单，快速响应
- 培养购买习惯
- 适度优惠吸引

---

### **列表3：濒临流失列表** ⭐
**目标**: 挽回有价值的老客户

**入选条件**（同时满足）:
```python
(未复购天数 >= 90天) AND           # 长期未购
(未复购天数 <= 阈值×3倍) AND       # 还没完全流失
(有效订单数 >= 3单 OR 累计消费 >= 1000元) AND  # 历史有价值
(退货率 < 0.5) AND                 # 退货率不算太高
NOT IN 超级VIP列表 AND              # 不重复
NOT IN 活跃培养列表                 # 不重复
```

**预计人数**: 约400-600人  
**跟进策略**:
- 中等优先级
- 情感维护："好久不见"
- 福利吸引：限时优惠、新品通知
- 了解未购原因

---

### **列表4：高风险待排查列表** ⚠️
**目标**: 售后排查，避免盲目投入

**入选条件**（满足以下任一条件）:
```python
# 条件1: 退货激增
("退货激增" IN 风险标签)

# 条件2: 高退货率但还在跟进范围
(退货率 > 0.5) AND (优先分 >= 50)

# 条件3: 近期消费骤降
("消费骤降" IN 风险标签) AND (历史价值高)
```

**预计人数**: 约200-300人  
**跟进策略**:
- **禁止直接促单**
- 先了解退货原因
- 确认产品/服务问题
- 问题解决后再考虑促单

---

## 【列表优先级和分配建议】

### 如果有2个员工:
```
员工A（经验丰富）:
  - 超级VIP列表（全部60-80人）
  - 活跃培养列表（150-200人）

员工B:
  - 活跃培养列表（150-200人）
  - 濒临流失列表（200-300人）

轮流处理:
  - 高风险列表（按需排查）
```

### 如果有3个员工:
```
员工A: 超级VIP（全部） + 活跃培养（100人）
员工B: 活跃培养（200人） + 濒临流失（200人）
员工C: 濒临流失（200人） + 高风险排查
```

---

## 【跟进记录系统设计】

### **1. 当前使用者登记（每天第一次打开HTML时）**

在HTML仪表盘顶部增加：
```
┌─────────────────────────────────────┐
│ 👤 当前操作员: [张三 ▼]              │
│ 📅 今天日期: 2025-11-12             │
└─────────────────────────────────────┘
```

- 下拉选择: 张三、李四、王五
- 存储到localStorage
- 导出时自动带上操作员信息

---

### **2. 跟进标记（点击客户行后弹出）**

```
┌────────────────── 跟进记录 ──────────────────┐
│ 客户: 刘星辰                                  │
│ 手机: 131****6685                            │
│ 联系日期: 2025-11-12 (自动获取)              │
│ 操作员: 张三 (自动获取)                       │
│                                              │
│ ✅ 已联系                                     │
│ ❌ 未联系                                     │
│                                              │
│ [如已联系，继续填写]                          │
│                                              │
│ 📞 回复类型:                                  │
│   ○ 积极响应 (有意向)                         │
│   ○ 考虑中 (需要时间)                         │
│   ○ 暂无需求                                  │
│   ○ 拒绝                                      │
│                                              │
│ 📝 促单结果:                                  │
│   [ 文本框供客服填写 ]                         │
│   例如: "客户表示月底发工资后购买"             │
│                                              │
│ 📅 下次跟进日期: [日期选择器]                 │
│                                              │
│ [保存]  [取消]                                │
└──────────────────────────────────────────────┘
```

---

### **3. 导出数据格式（CSV）**

导出时包含以下字段：
```csv
操作员,客户姓名,手机号,联系日期,是否回复,回复类型,促单结果,下次跟进日期,所属列表,优先分,订单数,退货率
张三,刘星辰,131****6685,2025-11-12,是,积极响应,客户月底购买,2025-11-30,活跃培养,152.10,2,50%
李四,童佳妮,138****1234,2025-11-12,是,考虑中,说下周看看,2025-11-19,超级VIP,233.82,6,0%
```

---

### **4. "最后联系日期"的作用**

**现有功能（冷却期）**:
```python
# 如果7天内联系过，本次不再推送
if last_contact_date:
    if (today - last_contact_date).days < 7:
        # 跳过这个客户，避免骚扰
        continue
```

**建议的完整用途**:

#### **用途1: 避免重复骚扰（冷却期）**
- 设置冷却期（如7天）
- 已联系的客户自动从列表中暂时移除
- 7天后自动恢复

#### **用途2: 跟进提醒**
```
客户A: 上次联系2025-11-05，说月中购买
  → 今天2025-11-15，提醒客服回访

客户B: 上次联系2025-11-10，未回复
  → 3天后自动提醒再次尝试
```

#### **用途3: 效果追踪**
```
统计维度:
- 联系后7天内下单率
- 联系后14天内下单率
- 不同策略的转化率
```

#### **用途4: 员工绩效**
```
张三本周: 联系80人，转化12人，转化率15%
李四本周: 联系60人，转化8人，转化率13.3%
```

---

## 【数据流程图】

```
每天早上 →
  ├─ 运行脚本生成最新数据
  ├─ 打开HTML仪表盘
  ├─ 选择操作员（张三）
  ├─ 选择列表（超级VIP）
  └─ 开始逐个跟进
       │
       ├─ 点击客户 → 查看详情
       ├─ 联系客户（微信/电话）
       ├─ 填写跟进记录
       ├─ 标记完成 → 自动保存
       └─ 继续下一个
       
每天下班前 →
  ├─ 导出今日跟进记录（CSV）
  ├─ 查看今日统计（联系XX人，转化XX人）
  └─ 数据自动同步到下次生成
```

---

## 【下一步实施计划】

### **Phase 1: 生成四个列表（立即）**
- 修改generate_customer_alerts.py
- 在Excel中增加4个Sheet
- 在HTML中增加列表切换tab

### **Phase 2: 跟进记录系统（1-2天）**
- HTML中增加操作员选择
- 增加跟进弹窗
- 实现数据保存到localStorage

### **Phase 3: 数据导出和同步（1天）**
- 实现CSV导出
- 读取联系记录，更新冷却期

### **Phase 4: 效果统计（1周后）**
- 每周转化率报告
- 算法优化建议

---

**准备好开始实施Phase 1了吗？我先把四个列表生成出来。**
